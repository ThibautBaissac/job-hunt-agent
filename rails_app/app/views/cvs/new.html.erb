<section class="mx-auto max-w-3xl space-y-8">
  <header class="space-y-2">
    <p class="text-sm font-medium text-slate-500">Importer un CV</p>
    <h1 class="text-3xl font-semibold tracking-tight text-indigo-900">Ajoutez votre CV principal</h1>
    <p class="text-sm text-slate-500">Collez le texte ou déposez un fichier .pdf ou .docx. Le contenu sera utilisé pour vos futures candidatures.</p>
  </header>

  <% if flash[:alert].present? %>
    <div class="rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-900">
      <%= flash[:alert] %>
    </div>
  <% end %>

  <div class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm shadow-slate-200/30">
    <%= form_with model: @cv, url: cvs_path, html: { multipart: true }, class: "space-y-6" do |form| %>
      <div class="space-y-2">
        <%= form.label :title, "Nom de la version", class: "text-sm font-semibold text-indigo-900" %>
        <%= form.text_field :title,
          class: "w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",
          placeholder: "Ex. CV Backend Rails" %>
      </div>

      <div class="space-y-2">
        <%= form.label :body_text, "Coller le texte de votre CV", class: "text-sm font-semibold text-indigo-900" %>
        <%= form.text_area :body_text,
              rows: 12,
              class: "w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",
              placeholder: "Collez ici le contenu texte de votre CV..." %>
        <p class="text-xs text-slate-500">Optionnel si vous importez un fichier.</p>
      </div>

      <div class="space-y-2">
        <%= form.label :document, "Ou importez un fichier", class: "text-sm font-semibold text-indigo-900" %>
        <%= form.file_field :document,
              accept: ".pdf,.docx",
              class: "w-full rounded-lg border border-dashed border-slate-300 px-3 py-6 text-center text-sm text-slate-500" %>
        <p class="text-xs text-slate-500">Formats acceptés : PDF et DOCX. Nous extrairons automatiquement le texte.</p>
      </div>

      <div class="flex justify-end gap-3">
        <%= link_to "Annuler", cvs_path, class: "rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-slate-400 hover:text-indigo-900" %>
        <%= form.submit "Enregistrer", class: "rounded-md bg-indigo-900 px-4 py-2 text-sm font-semibold text-white transition hover:bg-slate-800" %>
      </div>
    <% end %>
  </div>
</section>
